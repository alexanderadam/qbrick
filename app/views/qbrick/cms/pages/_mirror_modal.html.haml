.modal__header
  %h3 header
  .btn-wrapper
    %button.btn.btn--icon.close{ 'data-dismiss' => 'modal' }
      - streusel_icon('close')

- if page.bricks.empty?
  .modal__body
    .alert.alert-info
      = t('.no_bricks_to_clone')

  .modal__footer
    .clearfix
      .pull-right
        .btn{ 'data-dismiss' => 'modal'}
          = t('.okay')

- elsif params[:rutheless] != 'true'
  .modal__body
    .alert.alert-error
      = t('.target_page_contains_bricks', :brick_count => page.bricks.unscoped.where(:locale => params[:target_locale], :brick_list_id => page.id).count ).html_safe

  .modal__footer
    .clearfix
      .pull-right
        .btn{ 'data-dismiss' => 'modal'}
          = t('.abort')
        = link_to cms_page_mirror_path(@page, :target_locale => params[:target_locale], :rutheless => true), :class => 'btn btn-warning has-spinner', :remote => true do
          %span.spinner
            %i.icon-refresh.icon-white
          = t('.proceed_replace')

- else
  .modal__body
    .alert.alert-info
      = t('.bricks_cloned', :brick_count => (page.bricks.unscoped.where(:locale => params[:target_locale], :brick_list_id => page.id).count - params[:failed_bricks].count))
    - if params[:failed_bricks].any?
      .alert.alert-error
        = t('.failed_to_clone_folowwing_bricks')
        %ul
          - params[:failed_bricks].each do |failed_brick|
            %li
              = failed_brick.caption
              = failed_brick.type
              = "(Position: #{failed_brick.position})"

  .modal__footer
    .clearfix
      .pull-right
        = link_to edit_cms_page_path(page, :content_locale => params[:target_locale]), :class => 'btn' do
          = t('.edit_language', :language => params[:target_locale].upcase)
        .btn{ 'data-dismiss' => 'modal'}
          = t('.okay')
